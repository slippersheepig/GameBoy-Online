server {
    listen       80 default_server;
    server_name  _;

    root /usr/share/nginx/html;
    index index.xhtml index.html mobile.html;

    # 确保 manifest.webapp 有正确的 MIME
    location = /manifest.webapp {
        default_type application/manifest+json;
        try_files $uri =404;
    }

    # 确保 .xhtml 不会被当成下载
    location ~ \.xhtml$ {
        default_type text/html;
        try_files $uri =404;
    }

    # 其它静态资源
    location / {
        try_files $uri $uri/ =404;
    }

    gzip on;
    gzip_types text/plain text/css application/javascript application/json application/xhtml+xml image/svg+xml;
    gzip_min_length 1024;
}
